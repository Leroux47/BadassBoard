const addContent=(e,n)=>{let d=`${e} ${n} .blank`;$(n,d).off(),setTimeout(()=>{$(`${e} ${n} section`).length||$(d).removeClass("invisible"),$(d).click(()=>{$(n).css("padding","0"),$(`${e} ${n} .addContent`).css("display","").addClass("flex"),$(d).hide(),$(`${e} ${n} .addContent`).ready(()=>{handleOptionSelection(e,n)})})},3e3)};const addWeatherContainer=(e,t,a)=>{$(`${t} .addContent:visible`).length&&$(`${t} .addContent`).hide();let s=e.list[0].id,n=e.list[0].weather[0].description.split(""),d=n[0].toUpperCase();n.shift(),n.unshift(d),n=n.join("");let o={temp:e.list[0].main.temp,city:e.list[0].name,description:n,humidity:e.list[0].main.humidity,windSpeed:e.list[0].wind.speed,weatherIcon:e.list[0].weather[0].icon};if(!$(`${t} .forecast`).length){let e=$("<section></section>").addClass("forecast flex").appendTo(t,()=>{$(`${t} .blank`).addClass("invisible")}),n=$("<span></span>").addClass("forecast__header").appendTo(e),d=($("<a></a>").addClass("forecast__header__title").text(`Weather in ${o.city}`).attr("href",`https://openweathermap.org/city/${s}`).appendTo(n),$("<div></div>").addClass("forecast__content flex").appendTo(e)),p=$("<div></div>").addClass("forecast__content__info flex").appendTo(d),i=$("<span></span>").addClass("forecast__content__info__desc").appendTo(p),c=($("<p></p>").addClass("forecast__content__info__description__desc flex").text(o.description).appendTo(i),$("<span></span>").addClass("forecastIcon").text("🛈").prependTo(i),$("<span></span>").addClass("forecast__content__info__temp").appendTo(p)),_=($("<p></p>").addClass("forecast__content__info__temp__desc flex").text(`${o.temp} °C`).appendTo(c),$("<span></span>").addClass("forecastIcon").text("🌡").prependTo(c),$("<span></span>").addClass("forecast__content__info__wind").appendTo(p)),r=($("<p></p>").addClass("forecast__content__info__wind__desc").text(`${o.windSpeed} km/h`).appendTo(_),$("<img>").addClass("forecastIcon").attr({alt:"wind icon",src:"./src/scss/icons/interface/wind.svg"}).prependTo(_),$("<span></span>").addClass("forecast__content__info__humidity").appendTo(p)),l=($("<p></p>").addClass("forecast__content__info__humidity__desc flex").text(`${o.humidity} %`).appendTo(r),$("<span></span>").addClass("forecastIcon").text("💧").prependTo(r),$("<div></div>").addClass("forecast__weatherIcon flex").appendTo(d));$("<span></span>").addClass("forecast__weatherIcon__icon").appendTo(l);updateWeatherIcon(o);let f=$("<span></span>").addClass("contentOptions").appendTo(n);$("<img>").addClass("updateContentBtn").attr({alt:"Update content",src:"./src/scss/icons/interface/refresh.svg"}).appendTo(f),$("<img>").addClass("removeContentBtn").attr({alt:"Remove content",src:"./src/scss/icons/interface/cross.svg"}).appendTo(f);addContentOptions(t),a()}};const buildRssContainer=(d,a)=>{let i=$("<section></section>"),e=$("<div></div>");for(let a=0;a<10;a++)if(void 0!==d[a]&&void 0!==d[a].title&&void 0!==d[a].link){i.addClass("rssContainer flex"),e.addClass("linksContainer").appendTo(i);let s=$("<div></div>").addClass("article flex").appendTo(e);$("<a></a>").addClass("link").attr("href",d[a].link).text(d[a].title).appendTo(s),$("<div></div>").addClass("article__desc").append(d[a].summary).appendTo(e)}a(d,i)};const checkForUpdates=()=>{$.ajax({url:"https://api.github.com/repos/Leroux47/BadassBoard/releases",method:"GET",dataType:"json",statusCode:{200:e=>{if(e[0].tag_name!==currentVersion){$('<svg class="header__updateBtn" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M3 15v4c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2v-4M17 8l-5-5-5 5M12 4.2v10.3"/></svg>').prependTo($("header")).click(()=>{window.open("https://github.com/Leroux47/BadassBoard/releases")});$(".msgContainer").text("A new BadassBoard version is available ! Please click on the top right button to download the latest release 😉").fadeIn(2e3),setTimeout(()=>{$(".msgContainer").fadeOut(2e3)},5e3)}else e[0].tag_name===currentVersion&&($(".header__updateBtn").remove(),$(".msgContainer").text("").hide())},404:()=>{console.log("Couldn't check for updates, page not found...")},401:()=>{console.log("Hey, you're not allowed to visit this page !")},500:()=>{console.log("GitHub server error :((")}}})};const checkRSSstatus=n=>{n?($(".toggleRss__Input").prop("checked",!0),$(".toggleRss__Slider").removeClass("unchecked"),addContent(".content1__container",".content1"),addContent(".content2__container",".content2"),addContent(".content3__container",".content3"),"none"===$(".contentContainers").css("display")&&($(".contentContainers").css("display",""),$(".formContainer__container").css({position:"",top:""}))):($(".toggleRss__Input").prop("checked",!1),$(".toggleRss__Input").prop("checked")||($(".contentContainers").hide(),$(".formContainer__container").css({position:"absolute",top:"30%"})))};const displayArticleSummary=()=>{$(".article").mouseenter(i=>{!$(".rssTooltip .article__desc").length&&i.currentTarget.className.match("article")&&($(i.currentTarget.nextElementSibling).clone().appendTo(".rssTooltip"),mousePosition.x<$(window).width()/100*30?$(".rssTooltip .article__desc").css({display:"inline-block",top:mousePosition.y-$(window).width()/100*5,left:mousePosition.x+$(window).width()/100*15}):$(".rssTooltip .article__desc").css({display:"inline-block",top:mousePosition.y-$(window).width()/100*5,left:mousePosition.x-$(window).width()/100*35}))}).mouseleave(i=>{$(".rssTooltip .article__desc").remove()})};const displaySvg=i=>{void 0!==i.videos[iPlaylist]&&(iPlaylist<i.videoCount?(0===iPlaylist&&$(".audio__leftSvg").hide(),$(".audio__rightSvg").click(()=>{iPlaylist++,iPlaylist<i.videoCount&&void 0!==i.videos[iPlaylist]&&($("#audioSrc").attr("src",`https://www.invidio.us/latest_version?id=${i.videos[iPlaylist].videoId}&itag=251&local=true`),document.getElementById("audio__player").load(),$("#streamTitle").text(i.videos[iPlaylist].title),$("#YtId").text(` (Youtube ID : ${i.videos[iPlaylist].videoId})`),$(".playlistInfo").text(`${iPlaylist+1}/${i.videoCount}`),iPlaylist>0&&$(".audio__leftSvg").show(),iPlaylist===i.videoCount-1&&$(".audio__rightSvg").hide())}),$(".audio__leftSvg").click(()=>{iPlaylist>0&&(iPlaylist--,$("#audioSrc").attr("src",`https://www.invidio.us/latest_version?id=${i.videos[iPlaylist].videoId}&itag=251&local=true`),document.getElementById("audio__player").load(),$("#streamTitle").text(i.videos[iPlaylist].title),$("#YtId").text(` (Youtube ID : ${i.videos[iPlaylist].videoId})`),$(".playlistInfo").text(`${iPlaylist+1}/${i.videoCount}`)),0===iPlaylist?$(".audio__leftSvg").hide():iPlaylist>0&&$(".audio__rightSvg").show()})):$(".audio__rightSvg").show())};const fade=e=>{$(e).fadeIn(2e3,()=>{setTimeout(()=>{$(e).fadeOut(2e3)},5e3)})};const addContentOptions=t=>{const e=()=>{$(".confirmation__child__content section").remove()},n=(t,n,a)=>{$(n).length&&$(`${t} .removeContentBtn`).click(()=>{$(".confirmation").fadeIn().css("display","flex"),$(".mainContainer").addClass("blur"),$(n).clone().appendTo(".confirmation__child__content"),disableScroll(),$(".confirmation__child__btnContainer__saveBtn").click((function(){restoreScroll(),$(".mainContainer").removeClass("blur"),$(`${t} .blank`).css("display",""),addContent(`.${$(t).parent().attr("class").match(/content\d__container/)}`,`.${$(t).attr("class").match(/content\d{1,}/)}`),e(),$(".confirmation").fadeOut(),socket.emit("remove content",{parent:`.${$(t).parent().attr("class").match(/content\d__container/)}`,element:`.${$(t).attr("class").match(/content\d{1,}/)}`}),$(n).remove()})),$(".confirmation__child__btnContainer__cancelBtn").click(()=>{restoreScroll(),e(),$(".mainContainer").removeClass("blur"),$(".confirmation").fadeOut()})})},a=(t,e,n)=>{$(e).length&&$(`${e} .updateContentBtn`).click((function(){if(e.match(/rss/i))socket.emit("update feed",{element:`.${$(this).parents(".rssContainer").parent().attr("id")}`,parent:`.${$(this).parents(".content__container").attr("id")}`}),socket.on("feed updated",t=>{let e=`${t.parent} ${t.element}`,n=t.feed;buildRssContainer(n,(t,n)=>{$(`${e} .rssContainer`).replaceWith(n);let a=$("<div></div>").addClass("rssContainer__header").prependTo(n),o=($("<a></a>").addClass("feedTitle").attr({href:t[0].meta.link}).text(t[0].meta.title).prependTo(a),$("<span></span>").addClass("contentOptions").appendTo(a));$("<img>").addClass("updateContentBtn").attr({alt:"Update content",src:"./src/scss/icons/interface/refresh.svg"}).appendTo(o),$("<img>").addClass("removeContentBtn").attr({alt:"Remove content",src:"./src/scss/icons/interface/cross.svg"}).appendTo(o);addContentOptions(e),displayArticleSummary(),$(`${e} .rssContainer__header`).mouseenter(()=>{$(`${e} .contentOptions`).addClass("flex")}).mouseleave(()=>{$(`${e} .contentOptions`).addClass("flex")})})});else if(e.match(/forecast/i)){let e=$(".forecast__header__title").text().split(" ");e.splice(0,2),e=e[0],$.ajax({url:`https://api.openweathermap.org/data/2.5/find?q=${e}&units=metric&lang=en&appid=${owmToken}`,method:"POST",dataType:"json",statusCode:{401:()=>{printError({type:"weather",msg:"Sorry dude, your OpenWeatherMap token is invalid 😢. Please modify it in the settings.",element:t})},200:t=>{let e=t.list[0].weather[0].description.split(""),n=e[0].toUpperCase();e.shift(),e.unshift(n),e=e.join("");let a={temp:t.list[0].main.temp,city:t.list[0].name,description:e,humidity:t.list[0].main.humidity,windSpeed:t.list[0].wind.speed,weatherIcon:t.list[0].weather[0].icon};$(".forecast__content__info__description__desc").text(a.description),$(".forecast__content__info__temp__desc").text(`${a.temp} °C`),$(".forecast__content__info__wind__desc").text(`${a.windSpeed} km/h`),$(".forecast__content__info__humidity__desc").text(`${a.humidity} %`),updateWeatherIcon(a)}}})}}))};$(`${t} .rssContainer`).ready(()=>{n(t,`${t} .rssContainer`),a(t,`${t} .rssContainer`)}),$(`${t} .forecast`).ready(()=>{n(t,`${t} .forecast`),a(t,`${t} .forecast`)}),$(`${t} .youtubeSearchContainer`).ready(()=>{n(t,`${t} .youtubeSearchContainer`),((t,e,n)=>{$(e).length&&$(`${e} .contentOptions__clearResultsbtn`).click((function(){$(".youtubeSearchContainer__content__results").empty()}))})(0,`${t} .youtubeSearchContainer`)})};let currentVersion="0.2.1",iPlaylist=0,mousePosition={},owmToken="",searchEngine={};const socket=io();let headStyle="",lastContent1=1,lastContent2=1,lastContent3=1;$.ajax({url:"./settings/settings.json",method:"GET",dataType:"json"}).done(e=>{if(void 0!==e.backgroundImage){const n=()=>{headStyle="<style>.formContainer__container::before {background-image: url('./src/scss/wallpaper.png');}</style>",$("head").append(headStyle),$(".msgContainer").text("Sorry, your background image couldn't be loaded... Maybe try another one"),fade(".msgContainer"),$(".backgroundImage").css("backgroundImage","")};$.ajax({url:e.backgroundImage,method:"GET",dataType:"",statusCode:{200:()=>{headStyle=`<style>.formContainer__container::before {background-image: url(${e.backgroundImage});}</style>`,$("head").append(headStyle),$(".backgroundImage").css("backgroundImage",`url(${e.backgroundImage})`)},404:()=>{n()}}}).fail(e=>{"error"===e.statusText&&0===e.readyState&&n()})}const n=n=>{e.elements[n].elements.length>0&&(lastContent1=e.elements[n].elements[e.elements[n].elements.length-1].element.substring(8,9))};n(0),n(1),n(2),void 0!==e.owmToken&&(owmToken=e.owmToken,$(".owmToken__input").val(e.owmToken)),void 0!==e.searchEngine?(searchEngine.label=e.searchEngine.label,searchEngine.url=e.searchEngine.url,$(".searchEngineSelection__select").val(e.searchEngine.label)):(searchEngine.label="DuckDuckGo",searchEngine.url="https://duckduckgo.com/?q=",$(".searchEngineSelection__select").val(searchEngine.label),socket.emit("customization",searchEngine))}),$(document).ready(()=>{$(".credits").hide(),socket.on("RSS status retrieved",e=>{checkRSSstatus(e)}),$(".subRow").length||$("footer").css({position:"absolute",top:"90%"}),checkForUpdates(),showSettings(),showConverter(),parseContent(),socket.on("refresh app",()=>{location.reload()}),socket.on("errorMsg",e=>{printError(e)}),socket.on("server settings updated",e=>{null!=e&&($(".backgroundImage").css("background-image",`url(${e.backgroundImage})`),headStyle=`<style>.formContainer__container::before {background-image: url(${e.backgroundImage});}</style>`,$("head").append(headStyle))}),$(".questionBox").on("input",()=>{autocomplete($(".questionBox").val())}),$(".form").keypress(e=>{13===e.keyCode&&(questionBoxSubmit(),$(".formContainer").css({padding:"0.5% 1%"}))}),$(".formSubmit").click(()=>{questionBoxSubmit()}),$(".msgContainer").text().match(/\w.+/)?fade(".msgContainer"):$(".msgContainer").hide(),getMousePosition(),$(".header__chatBtn").click(()=>{window.open("/chat")}),$(".footer").mouseenter(()=>{$(".credits").fadeIn()}).mouseleave(()=>{$(".credits").fadeOut()})});const hideContent=e=>{$(e).click(()=>{".audio__remove"===e?(document.getElementById("audio__player").pause(),$(".audio").hide()):".converter__remove"===e&&$(".upperContainer__converter").fadeOut()}),$(".contentContainers").css("marginTop","")};const listen2Playlist=i=>{if(void 0===i.videos[iPlaylist])printError({type:"generic",msg:"Invalid playlist reference !"});else if(iPlaylist<i.videoCount&&!i.videos[iPlaylist].title.match(/deleted video/gi)&&void 0!==i.videos[iPlaylist]){if(hideContent(".audio__remove"),$(".audio").addClass("playlist flex"),$(".audio__leftSvg, .audio__rightSvg").off(),$(".contentContainers").css("marginTop",0),$(".audio__player").length){if($("#audioSrc").attr("src",`https://www.invidio.us/latest_version?id=${i.videos[iPlaylist].videoId}&itag=251&local=true`),!$(".audio__leftSvg").length){$('<svg class="audio__leftSvg" xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><path d="M15 18l-6-6 6-6"/></svg>').hide().prependTo(".audio"),$('<svg class="audio__rightSvg" xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><path d="M9 18l6-6-6-6"/></svg>').hide().appendTo(".audio")}$(".streamInfoContainer, .player, .playlistInfo, .audio__leftSvg, .audio__rightSvg").show(),$(".playlistEndMsg").hide()}else{$("<audio></audio>").attr({id:"audio__player",controls:"controls",autoplay:"autoplay"}).addClass("audio__player").text("Your browser does not support the audio element :(").appendTo(".player"),$('<svg class="audio__leftSvg" xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><path d="M15 18l-6-6 6-6"/></svg>').prependTo(".audio"),$('<svg class="audio__rightSvg" xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><path d="M9 18l6-6-6-6"/></svg>').appendTo(".audio"),$("<source>").attr({id:"audioSrc",src:`https://www.invidio.us/latest_version?id=${i.videos[iPlaylist].videoId}&itag=251&local=true`,type:" audio/mpeg"}).appendTo(".audio__player")}if($(".streamInfoContainer").length)if($("#streamTitle").text(i.videos[iPlaylist].title),$("#YtId").text(`(Youtube ID : ${i.videos[iPlaylist].videoId})`),$(".playlistInfo").length)$(".playlistInfo").show().text(`${iPlaylist+1}/${i.videoCount}`);else{$("<span></span>").addClass("playlistInfo").text(`${iPlaylist+1}/${i.videoCount}`).show().prependTo(".audioMsg")}else{$("<span></span>").addClass("playlistInfo").text(`${iPlaylist+1}/${i.videoCount}`).show().prependTo(".audioMsg"),$("<span></span>").addClass("streamInfoContainer").appendTo(".audioMsg"),$("<p></p>").attr("id","streamTitle").addClass("streamTitle").text(i.videos[iPlaylist].title).appendTo(".streamInfoContainer"),$("<p></p>").text(` (Youtube ID : ${i.videos[iPlaylist].videoId})`).attr("id","YtId").addClass("YtId").appendTo(".streamInfoContainer")}document.getElementById("audio__player").load(),document.getElementById("audio__player").onended=()=>{if(iPlaylist++,void 0!==i.videos[iPlaylist])listen2Playlist(i);else{if($(".audio__leftSvg, .audio__remove").hide(),$(".player, .streamInfoContainer, .playlistInfo").hide(),!$(".endOfPlaylist").length){$("<span></span>").text("There is no track left in here... 😭").addClass("audioMsg__playlistEnd").prependTo(".audioMsg");$(".audio").removeClass("playlist")}$(".audio").css("width","50%"),$(".audioMsg").css({justifyContent:"center",width:"100%"}),fade($(".audio"))}},$(".audio__player").show(),$(".audioMsg").show(),$(".audio").fadeIn(1500,()=>{$(".audio").css("display","flex")}),displaySvg(i)}else void 0===i.videos[iPlaylist]?printError({type:"generic",msg:"Video ID not found !"}):i.videos[iPlaylist].title.match(/(deleted video) || (private video)/gi)&&(iPlaylist++,listen2Playlist(i))};const openUrl=s=>{let e=s.split(" ");for(let s=0;s<suggestions.length;s++)if(e[0]===suggestions[s].label){e.shift();let n=e.join(" ");void 0!==suggestions[s].url&&null!==suggestions[s]&&("!iv"===suggestions[s].label?window.open(`${suggestions[s].url}${n}&local=true`):"!mmnl"===suggestions[s].label?window.open(`${suggestions[s].url}${n}&searchProfile=onlineshop&channel=mmnlnl`):"!pb"===suggestions[s].label?window.open(`${suggestions[s].url}${n}/-/`):window.open(`${suggestions[s].url}${n}`))}$(".questionBox").val(""),$(".formContainer").css({borderRadius:"2em"}),$(".suggestion").hide()};const parseContent=()=>{socket.on("parse content",e=>{for(const[t,n]of e.entries()){const e=(e,t,n,a)=>{if($(t).length)a();else{let s=$("<div></div>").addClass(`content content${n}`).attr("id",`content${n}`);$(t).length||s.appendTo(e),$(t).ready(()=>{$(`${t} .blank`).length||$(`${t} .addContent`).length||$(t).prepend(r).append(i),a()})}};let t=n.parent,a=n.element,s=`${n.parent} ${n.element}`,o=Number(a.match(/[0-9]{1,}/)),r=$(".blank").clone()[0],i=$(".addContent").clone()[0];e(t,s,o,()=>{const e=()=>{setTimeout(()=>{if(!$(`${t} .newContent`).length){$("<div></div>").addClass("newContent content subRow flex").appendTo(t).prepend(r).append(i)}"absolute"===$("footer").css("position")&&$(".footer").css({position:"",top:""});let e=$(`${t} .newContent .blank`);$(e).click(()=>{$(`${t} .newContent .addContent`).css("display","").addClass("flex"),$(e).hide(),$(`${t} .newContent .addContent`).ready(()=>{handleOptionSelection(t,".newContent")})}),$(".newContent").ready(()=>{$(".newContent .blank").removeClass("invisible"),$(".content").each((function(e){$(this).hasClass("newContent")?$(this).css("order",100):$(this).css("order",$(this).attr("id").substring(7,9))}))})},500)};if($(s).off(),"weather"===n.type&&($(`${s} .forecast`).length||void 0!==n.location&&owmToken.match(/[a-z0-9]{32}/)&&$.ajax({url:`https://api.openweathermap.org/data/2.5/find?q=${n.location}&units=metric&lang=en&appid=${owmToken}`,method:"POST",dataType:"json",statusCode:{401:()=>{printError({type:"weather",msg:"Sorry dude, your OpenWeatherMap token is invalid 😢. Please modify it in the settings.",element:s})},200:t=>{t.cod;0!==t.count?addWeatherContainer(t,s,e):printError({type:"weather",msg:"Sorry homie, it seems this location doesn't exist...",element:s})}}})),"rss"===n.type){let t=n.feed;$(`${s} .rssContainer`).length||buildRssContainer(t,(t,n)=>{n.appendTo(s,()=>{$(`${s} .blank`).addClass("invisible")});let a=$("<div></div>").addClass("rssContainer__header").prependTo(`${s} .rssContainer`),o=($("<a></a>").addClass("feedTitle").attr({href:t[0].meta.link}).text(t[0].meta.title).prependTo(`${s} .rssContainer__header`),$("<span></span>").addClass("contentOptions").appendTo(a));$("<img>").addClass("updateContentBtn").attr({alt:"Update content",src:"./src/scss/icons/interface/refresh.svg"}).appendTo(o),$("<img>").addClass("removeContentBtn").attr({alt:"Remove content",src:"./src/scss/icons/interface/cross.svg"}).appendTo(o);displayArticleSummary(),addContentOptions(s),e()})}if("youtube search"===n.type){if(!$(".youtubeSearchContainer").length){$("<section></section>").addClass("youtubeSearchContainer").appendTo(s);let t=$("<p></p>").text("Instant Youtube search"),n=$("<div></div>").addClass("youtubeSearchContainer__header flex").appendTo(`${s} .youtubeSearchContainer`).append(t),a=$("<input>").addClass("youtubeSearchContainer__content__input").attr("placeholder","Type here to search Youtube..."),o=$("<div></div>").addClass("youtubeSearchContainer__content__results flex"),r=($("<div></div>").addClass("youtubeSearchContainer__content flex").append(a,o).appendTo(`${s} .youtubeSearchContainer`),$("<span></span>").addClass("contentOptions").appendTo(n));$("<img>").addClass("contentOptions__clearResultsbtn").attr({alt:"Clear search results",src:"./src/scss/icons/interface/clear.svg"}).appendTo(r),$("<img>").addClass("removeContentBtn").attr({alt:"Remove content",src:"./src/scss/icons/interface/cross.svg"}).appendTo(r);addContentOptions(s),e()}$(".youtubeSearchContainer *").keypress(e=>{13===e.keyCode&&($(".youtubeSearchContainer__content__results").addClass("invisible"),$.ajax({url:`https://invidio.us/api/v1/search?q=${$(".youtubeSearchContainer__content__input").val()}&language=json&type=all`,method:"GET",dataType:"json",statusCode:{200:e=>{for(let t=0;t<e.length;t++){let n="",a="",s="",o="",r="";const i=()=>{let n=e[t].lengthSeconds,a=Math.floor(n/60),s=n%60,o=Math.floor(n/3600),r="";return 0!==o&&(r+=`${o}:`),0!==a&&a<60&&(r+=`${a}:`),0!==s&&s<60&&(r+=`${s}`),r},l=()=>{let n=$("<span></span>").addClass(`youtubeSearchContainer__content__results__result youtube__result${t} flex`).append(o).appendTo(".youtubeSearchContainer__content__results"),a=$("<div></div>").addClass("youtubeSearchContainer__content__results__result__thumbnailContainer flex").prependTo(n);"channel"!==e[t].type&&"playlist"!==e[t].type?r=$("<img>").attr("alt",`${e[t].title} thumbnail`).attr("src",e[t].videoThumbnails[0].url).prependTo(a):"channel"===e[t].type?r=$("<img>").attr("alt",`${e[t].author} channel thumbnail`).attr("src",e[t].authorThumbnails[0].url).prependTo(a):"playlist"===e[t].type&&(r=$("<img>").attr("alt",`${e[t].title} thumbnail`).attr("src",e[t].playlistThumbnail).prependTo(a))};"video"===e[t].type?(n=$("<a></a>").attr("href",`https://invidio.us/watch?v=${e[t].videoId}`).text(e[t].title),a=$("<p></p>").text(e[t].videoId).prepend("<u>Video ID</u> : "),s=$("<p></p>").text(i()).prepend("<u>Duration</u> : ")):"channel"===e[t].type?(n=$("<a></a>").attr("href",`https://invidio.us${e[t].authorUrl}`).text(e[t].author),s=$("<p></p>").text(e[t].videoCount).prepend("<u>Number of videos</u> : ")):"playlist"===e[t].type&&(n=$("<a></a>").attr("href",`https://invidio.us/playlist?list=${e[t].playlistId}`).text(e[t].title),a=$("<p></p>").text(`${e[t].playlistId}`).prepend("<u>Playlist ID</u> : "),s=$("<p></p>").text(e[t].videoCount).prepend("<u>Number of videos</u> : ")),o=""!==a?$("<span></span>").addClass("youtubeSearchContainer__content__results__result__content flex").append(n,s,a):$("<span></span>").addClass("youtubeSearchContainer__content__results__result__content flex").append(n,s),$(`.youtube__result${t}`).length?$(".youtubeSearchContainer__content__results").length&&($(".youtubeSearchContainer__content__results").empty(),l()):l(),1===t&&$(".youtubeSearchContainer__content__results").removeClass("invisible").css("visibility","visible")}}}}))})}t.match(o)||$(s).addClass("subRow")})}})};const autocomplete=s=>{let e=suggestions.filter(e=>{const t=new RegExp(`^${s}`,"gi");return e.label.match(t)});if(s.length||(e=[],$(".suggestions").text(""),$(".formContainer").css({borderRadius:"2em",padding:"0.5% 1%"}),$(".suggestions").removeClass("active")),e!==[]&&s.length>=2&&s.startsWith("!"))if($(".formContainer").css({borderRadius:"2em 2em 0 0",paddingBottom:0}),$(".suggestions").hasClass("active")||$(".suggestions").addClass("active"),$(".suggestions").css({width:$(".formContainer").innerWidth()}),e!==[]&&e.length>0){const s=e.map(s=>`\n            <div class="suggestion flex">\n              <img class="suggestion__icon" src="${s.icon}" alt="${s.desc} icon" height="20px" />\n              <span class="suggestion__label">${s.label}</span>\n              <span class="suggestion__desc">${s.desc}</span>\n            </div>\n            `).join("");$(".suggestions").html(s),$(".suggestion").click(s=>{let e,t=s.target;"suggestion__label"===t.className?e=t.textContent:"suggestion__icon"===t.className?e=t.nextElementSibling.textContent:"suggestion__desc"===t.className?e=t.previousElementSibling.textContent:"suggestion"===t.className&&(e=t.children[1].textContent),e&&$(".questionBox").val(`${e} `).focus()})}else $(".suggestions").removeClass("active")};const getMousePosition=()=>{$(window).mousemove(o=>{mousePosition.x=o.pageX,mousePosition.y=o.pageY})};const questionBoxSubmit=()=>{""!==$(".questionBox").val()&&$(".form").submit(t=>{iPlaylist=0;let o=$(".questionBox").val();t.preventDefault(),processInput(o)})};const handleOptionSelection=(t,e)=>{let n,d={};const a=n=>{void 0!==n?$(`${t} ${e} .addContent`).children().not(`${n}, ${n}__input, select, option, label, .addContent__btnContainer, .addContent__submitBtn, .addContent__cancelBtn`).hide():void 0===n&&($(`${t} ${e} .addContent__feed`).css("display","flex").addClass("invisible"),$(`${t} ${e} .addContent`).children().not(".addContent__feed, select, option, label, .addContent__btnContainer, .addContent__submitBtn, .addContent__cancelBtn").hide())},o=()=>{void 0!==$(`${t} ${e}`).prev().attr("class")&&(n=Number($(`${t} ${e}`).prev().attr("id").substring(7,9))+1),$(`${t} .newContent`).removeClass("newContent subRow flex").attr("id",`content${n}`).addClass(`content${n}`)};$(`${t} ${e} .addContent__select`).on("change",()=>{$(`${t} ${e} .addContent__btnContainer`).css("display","inline-flex"),"Add a feed"===$(`${t} ${e} .addContent__select`).val()?($(`${t} ${e} .addContent`).removeClass("menu"),$(`${t} ${e} .addContent__select`).addClass("select"),$(`${t} ${e} .addContent__feed`).removeClass("invisible").addClass("flex").css("display",""),a(".addContent__feed"),$(`${t} ${e} .addContent__submitBtn`).click(()=>{let a=`${t} ${e}`;".newContent"===e?(o(),a=`${t} .content${n}`,d={element:`.content${n}`,parent:t,url:$(`${t} .content${n} .addContent__feed__input`).val(),type:"rss"}):d={element:e,parent:t,url:$(`${t} ${e} .addContent__feed__input`).val(),type:"rss"},null!==$(`${a} .addContent__feed__input`).val()&&void 0!==$(`${a} .addContent__feed__input`).val()&&$(`${a} .addContent__feed__input`).val().match(/^http/i)?(socket.emit("add content",[d]),$(`${a} .addContent`).hide(),parseContent()):printError({type:"rss",msg:"Hey, this value is invalid !",element:`${t} ${e} .addContent__feed`})})):"Weather forecast"===$(`${t} ${e} .addContent__select`).val()?($(`${t} ${e} .addContent`).removeClass("menu"),$(`${t} ${e} .addContent__select`).addClass("select"),$(`${t} ${e} .addContent__weather`).css("display","").addClass("flex"),a(".addContent__weather"),$(`${t} ${e} .addContent__submitBtn`).click((function(){let n=`${t} ${e}`;".newContent"===e&&(o(),n=`${t} .${$(this).parents(".content").attr("id")}`);let a=`.${$(this).parents(".content").attr("id")}`;$.ajax({url:`https://api.openweathermap.org/data/2.5/find?q=${$(`${n} .addContent__weather__input`).val()}&units=metric&lang=en&appid=${owmToken}`,method:"POST",dataType:"json",statusCode:{400:()=>{printError({type:"weather",msg:"Something is wrong with your request... Please contact the dev to fix it.",element:`${t} ${a}`})},401:()=>{printError({type:"weather",msg:"Sorry dude, your OpenWeatherMap token is invalid 😢. Please modify it in the settings.",element:`${t} ${a}`})},200:n=>{d=".newContent"!==e?{element:e,parent:t,location:$(`${t} ${a} .addContent__weather__input`).val(),type:"weather"}:{element:a,parent:t,location:$(`${t} ${a} .addContent__weather__input`).val(),type:"weather"},0!==n.count?(parseContent(),$(`${t} ${a} .addContent`).hide(),socket.emit("add content",[d])):printError({type:"weather",msg:"Sorry homie, it seems this location doesn't exist...",element:`${t} ${e}`})}}})}))):"Youtube search box"===$(`${t} ${e} .addContent__select`).val()?($(`${t} ${e} .addContent`).removeClass("menu"),$(`${t} ${e} .addContent__select`).addClass("select"),$(`${t} ${e} .addContent__youtube`).css("display","").addClass("flex"),a(".addContent__youtube"),$(`${t} ${e} .addContent__submitBtn`).click((function(){".newContent"===e&&(o(),addContentParentClass=`${t} .${$(this).parents(".content").attr("id")}`);let n=`.${$(this).parents(".content").attr("id")}`;".newContent"!==e?socket.emit("add content",[{element:e,parent:t,type:"youtube search"}]):socket.emit("add content",[{element:n,parent:t,type:"youtube search"}]),parseContent(),$(`${t} ${n} .addContent`).hide()}))):($(`${t} ${e} .addContent`).addClass("menu"),$(`${t} ${e} .addContent__select`).removeClass("select"),$(`${t} ${e} .addContent`).children().not("select, option, label").hide())}),$(`${t} ${e} .addContent__cancelBtn`).click((function(){$(this).parents(".addContent").fadeOut(),$(`${t} ${e} .blank`).css("display","")}))};const printError=e=>{if("generic"===e.type)$(".msgContainer").addClass("warning").text(e.msg).show(),setTimeout(()=>{$(".msgContainer").hide().removeClass("warning")},5e3);else if("weather"===e.type){if(null!==e.element&&void 0!==e.element&&($(e.element).off(),!$(`${e.element} .warning`).length)){$("<span></span>").addClass("warning").text(e.msg).appendTo(`${e.element} .addContent__weather`)}}else if("rss"===e.type){$("<span></span>").addClass("warning").text(e.msg).appendTo(e.element)}else if("rss verification"===e.type){if($(e.element).off(),!$(`${e.element} .rssWarning`).length){$(`${e.element} .addContent, ${e.element} .addContent__feed`).css("display","").addClass("flex");$("<span></span>").addClass("warning rssWarning").text(e.msg).appendTo($(`${e.element} .addContent__feed`))}}else if("unit conversion"===e.type)if($(".upperContainer__converter .warning").length)$(".upperContainer__converter .waring").css("display","flex");else{$("<b></b>").text(e.msg).addClass("warning").appendTo(e.element)}else if("upload"===e.type&&!$(".settings__container .uploadWarning").length){let n=$("<b></b>").text(e.msg).addClass("warning uploadWarning").css("display","");$(".backgroundImageUploadForm").after(n)}};const processInput=t=>{let e=t.split(" ");if(t.startsWith("!")){if(openUrl(t),t.startsWith("!d ")){if(t.match(/[0-9A-Za-z_-]{11}/)){let e=t.match(/[0-9A-Za-z_-]{11}/)[0];socket.emit("download",e),socket.emit("audio info request",{id:e}),socket.on("audio info retrieved",t=>{if(void 0!==t.title&&null!==t.title){let e=`Your download for ${t.title} started !`;$(".msgContainer").text(e),$(".msgContainer").show()}}),socket.on("download ended",t=>{$(".msgContainer").text(`Your download for ${t.title} ended !`),setTimeout(()=>{$(".msgContainer").fadeOut(1500)},2e3),window.open(`${window.location.href}download`)})}else printError({type:"generic",msg:"You pasted an invalid link. If you tried to paste a URL, try the video ID only"})}if(t.startsWith("!p "))if(t.match(/[0-9A-Za-z_-]{11}/)&&!t.match(/[0-9A-Za-z_-]{15,34}/)){let e=t.match(/[0-9A-Za-z_-]{11}/)[0];$.ajax({url:`https://invidio.us/api/v1/videos/${e}`,method:"GET",dataType:"json",statusCode:{200:t=>{let a=t.title,o=(()=>{for(const[e,a]of t.adaptiveFormats.entries()){if(a.type.match(/audio/))return a.url;e===t.adaptiveFormats.length-1&&printError({type:"generic",msg:"Sorry, this stream couldn't be played. Please try another video."})}})();if($(".audio__player").length)$("#audioSrc").attr("src",o);else{$("<audio></audio>").attr({id:"audio__player",controls:"controls",autoplay:"autoplay"}).addClass("audio__player").text("Your browser does not support the audio element.").appendTo(".player"),$("<source>").attr({id:"audioSrc",src:o,type:"audio/mpeg"}).appendTo(".audio__player")}if(!$(".streamInfoContainer").length){let t=$("<span></span>").addClass("streamInfoContainer").appendTo(".audioMsg");$("<p></p>").attr("id","streamTitle").addClass("streamTitle").appendTo(t),$("<p></p>").attr("id","YtId").addClass("YtId").appendTo(t)}document.getElementById("audio__player").load(),($(".audio__leftSvg").length||$(".audio__rightSvg").length)&&$(".audio__leftSvg, .audio__rightSvg, .playlistInfo").hide(),$("#streamTitle").text(a),$("#YtId").text(`(Youtube ID : ${e})`),$(".streamInfoContainer").css({textAlign:"center",width:"100%"}),$(".audioMsg, .streamInfoContainer, .audio__player").show(),$(".audio").fadeIn(1500,()=>{$(".audio").css("display","flex")}),document.getElementById("audio__player").onended=()=>{$(".audio").fadeOut(1500)},hideContent(".audio__remove")},500:t=>{printError({type:"generic",msg:"Sorry, the audio stream failed to load due to a server error... Try maybe later."})}}})}else if(null!==t.match(/[a-zA-Z0-9-_]{15,34}/)[0]){iPlaylist=0;let e=`https://invidio.us/api/v1/playlists/${t.match(/[a-zA-Z0-9-_]{15,34}/)[0]}`;socket.emit("parse playlist",e),socket.on("playlist parsed",()=>{$.ajax({url:"./tmp/playlist.json",dataType:"json",method:"GET"}).done(t=>{listen2Playlist(t)})})}else printError({type:"generic",msg:"Bad URL :(("})}else if(null!=t&&""!==t){let t=e.join(" ");window.open(`${searchEngine.url}${t}`),$(".questionBox").val("")}};const restoreScroll=()=>{$("html, body").css({overflow:"",height:""})},disableScroll=()=>{$("html, body").css({overflow:"hidden",height:"100%"})};const showConverter=()=>{let e;$(".header__converterBtn").on("click",(function(){$(".upperContainer__converter").fadeIn().css("display","flex")})),$(".converter__input, .converter__value1, .converter__value2").on("change",()=>{let t=$(".converter__value1").val(),a=Number($(".converter__input").val()),o=$(".converter__value2").val();isNaN(a)?printError({type:"unit conversion",element:$(".upperContainer__converter"),msg:"Please enter a numeric value... 😑"}):("Byte"===t?"Kilobyte"===o?e=a/Math.pow(1024,1):"Megabyte"===o?e=a/Math.pow(1024,2):"Gigabyte"===o?e=a/Math.pow(1024,3):"Terabyte"===o?e=a/Math.pow(1024,4):"Byte"===o&&(e=a):"Kilobyte"===t?"Byte"===o?e=a*Math.pow(10,6):"Megabyte"===o?e=a/Math.pow(10,3):"Gigabyte"===o?e=a/Math.pow(10,6):"Terabyte"===o?e=a/Math.pow(10,9):"Kilobyte"===o&&(e=a):"Megabyte"===t?"Kilobyte"===o?e=a*Math.pow(10,3):"Byte"===o?e=a*Math.pow(10,6):"Gigabyte"===o?e=a/Math.pow(10,3):"Terabyte"===o?e=a/Math.pow(10,6):"Megabyte"===o&&(e=a):"Gigabyte"===t?"Kilobyte"===o?e=a*Math.pow(10,6):"Byte"===o?e=a*Math.pow(10,9):"Megabyte"===o?e=a*Math.pow(10,3):"Terabyte"===o?e=a/Math.pow(10,3):"Gigabyte"===o&&(e=a):"Terabyte"===t&&("Kilobyte"===o?e=a*Math.pow(10,9):"Byte"===o?e=a*Math.pow(10,12):"Megabyte"===o?e=a*Math.pow(10,6):"Gigabyte"===o?e=a*Math.pow(10,3):"Terabyte"===o&&(e=a)),$(".upperContainer__converter .warning").hide(),""!==a&&(e=>{void 0!==e?$(".converter__result").val(e):($(".converter__result").val(""),console.log(`Error converting unit... Result value : ${e}`))})(e))}),hideContent(".converter__remove")};const showSettings=()=>{const e=()=>{$(".uploadWarning").length&&$(".uploadWarning").remove(),restoreScroll(),$(".backgroundImage, header, .mainContainer").removeClass("blur"),$(".settings__container").fadeOut()};let a={},o=$(".toggleRss__Input").prop("checked");o?$(".toggleRss__Slider").removeClass("unchecked"):$(".toggleRss__Slider").addClass("unchecked"),$(".header__settingsBtn").click(()=>{$(".backgroundImage, header, .mainContainer").addClass("blur"),disableScroll(),$(".settings__container").fadeIn().css("display","flex")}),$(".backgroundImageUploadForm__Btn").click(()=>{$(".backgroundImageUploadForm__InputFile").click()}),$(".toggleRss__Switch").click(()=>{a.RSS=$(".toggleRss__Input").prop("checked"),$(".toggleRss__Input").prop("checked")?$(".toggleRss__Slider").removeClass("unchecked"):$(".toggleRss__Slider").addClass("unchecked")}),$(".settings__child__cancelBtn").click(()=>{e()}),$(".searchEngineSelection__select").on("change",()=>{let e=$(".searchEngineSelection__select").val();a.searchEngine={},a.searchEngine.label=e,"Bing"===e?a.searchEngine.url=searchEngine.url="https://www.bing.com/search?q=":"DuckDuckGo"===e?a.searchEngine.url=searchEngine.url="https://duckduckgo.com/?q=":"Ecosia"===e?a.searchEngine.url=searchEngine.url="https://www.ecosia.org/search?q=":"Google"===e?a.searchEngine.url=searchEngine.url="https://www.google.com/search?q=test":"Qwant"===e&&(a.searchEngine.url=searchEngine.url="https://www.qwant.com/?q=")}),$(".settings__child__saveBtn").click(()=>{let o=!1;if(""!==$(".backgroundImageUploadForm__InputFile").val()&&""===$(".backgroundImageUploadForm__InputUrl").val()){let e=$(".backgroundImageUploadForm__InputFile").get(0).files[0];if(e.size/1048576>5)o=!0,printError({type:"upload",msg:"Your file is too laaaaarge ! Please select one under 5 Mb."});else{a.backgroundImage=`./upload/${e.name}`;let o=new FormData;o.append("backgroundImageUploadInput",e,e.name),$.ajax({url:"/upload",type:"POST",data:o,processData:!1,contentType:!1,statusCode:{404:()=>{console.log("page not found !")},200:()=>{console.log(`${e.name} was uploaded successfully !`)}},success:e=>{$(".backgroundImage").css("backgroundImage",`url(${a.backgroundImage})`),$("head style").remove(),$("head").append(`<style>.formContainer__container::before {background-image: url(${a.backgroundImage});}</style>`)},error:a=>{console.log(o,e,`Error uploading wallpaper :\n${JSON.stringify(a,null,2)}`)}})}}else{if(""===$(".backgroundImageUploadForm__InputFile").val()&&""!==$(".backgroundImageUploadForm__InputUrl").val())if($(".backgroundImageUploadForm__InputUrl").val().match(/^(http|https):\/\/(www.|)[a-zA-Z0-9-\.\/]{1,}\.\w.+/i))if($(".backgroundImageUploadForm__InputUrl").val().length<200)if(a.backgroundImage=$(".backgroundImageUploadForm__InputUrl").val(),$(".backgroundImage").css("backgroundImage",`url(${a.backgroundImage})`),$("head style").length){for(var n=0;n<$("head style").length;n++)$("head style")[n].textContent===headStyle&&$("head style")[n].remove();$("head").append(`<style>.formContainer__container::before {background-image: url(${a.backgroundImage}); !important}</style>`)}else $("head").append(`<style>.formContainer__container::before {background-image: url(${a.backgroundImage}); !important}</style>`);else o=!0,printError({type:"upload",msg:"Your URL is too large ! Please shorten it !"});else o=!0,printError({type:"upload",msg:"Your URL is not supported... Please try another one or open an issue on Github"});else""!==$(".backgroundImageUploadForm__InputFile").val()&&""!==$(".backgroundImageUploadForm__InputUrl").val()&&(o=!0,printError({type:"upload",msg:"Hey, don't be too powerful dude ! One field at a time !"}));$(".toggleRss__Input").prop("checked"),""===$(".backgroundImageUploadForm__InputFile").val()&&""===$(".backgroundImageUploadForm__InputUrl").val()&&""===$(".owmToken__input").val()&&($(".backgroundImage, header, .mainContainer").removeClass("blur"),$(".settings__container").fadeOut()),$(".owmToken__input").val().match(/[a-z0-9]{32}/)&&(a.owmToken=$(".owmToken__input").val(),owmToken=$(".owmToken__input").val())}$(".owmToken__input").val(a.owmToken),o||(e(),socket.emit("customization",a),$(".uploadWarning").length&&$(".uploadWarning").remove(),void 0!==a.RSS&&(!0===a.RSS?location.reload():$(".contentContainers").hide()))})};const suggestions=[{label:"!1337x",desc:"1337x.am",icon:"./src/scss/icons/suggestions/1337x.ico",url:"https://www.1337x.am/search/"},{label:"!afr",desc:"Amazon (FR)",icon:"./src/scss/icons/suggestions/amazon.png",url:"https://www.amazon.fr/s?k="},{label:"!a",desc:"Amazon (US)",icon:"./src/scss/icons/suggestions/amazon.png",url:"https://www.amazon.com/s?k="},{label:"!alto",desc:"AlternativeTo",icon:"./src/scss/icons/suggestions/alto.ico",url:"https://alternativeto.net/browse/search?q="},{label:"!css",desc:"CSS Tricks",icon:"./src/scss/icons/suggestions/csstricks.png",url:"https://css-tricks.com/?s="},{label:"!d",desc:"Download a YouTube audio stream",icon:"./src/scss/icons/suggestions/download.png"},{label:"!fdroid",desc:"F-Droid",icon:"./src/scss/icons/suggestions/fdroid.png",url:"https://search.f-droid.org/?q="},{label:"!g",desc:"Google",icon:"./src/scss/icons/suggestions/google.png",url:"https://www.google.com/search?q="},{label:"!gh",desc:"Github",icon:"./src/scss/icons/suggestions/github.ico",url:"https://github.com/search?q="},{label:"!gt",desc:"Google translate",icon:"./src/scss/icons/suggestions/gt.ico",url:"https://translate.google.com/#view=home&op=translate&sl=auto&tl=en&text="},{label:"!gmap",desc:"Google Maps",icon:"./src/scss/icons/suggestions/maps.ico",url:"https://www.google.be/maps/search/"},{label:"!htg",desc:"How-to Geek",icon:"./src/scss/icons/suggestions/howtogeek.ico",url:"https://www.howtogeek.com/search/?q="},{label:"!iv",desc:"Invidio.us",icon:"./src/scss/icons/suggestions/invidious.png",url:"https://invidio.us/search?q="},{label:"!jq",desc:"Jquery API",icon:"./src/scss/icons/suggestions/jquery.ico",url:"https://api.jquery.com/?ns0=1&s="},{label:"!ldlc",desc:"LDLC",icon:"./src/scss/icons/suggestions/ldlc.png",url:"https://www.ldlc.com/fr-be/recherche/"},{label:"!lg",desc:"Les Grignoux",icon:"./src/scss/icons/suggestions/grignoux.png",url:"https://www.grignoux.be//fr/recherche?search="},{label:"!li",desc:"LinkedIn",icon:"./src/scss/icons/suggestions/linkedin.ico",url:"https://www.linkedin.com/search/results/all/?keywords="},{label:"!ln",desc:"Les Numériques",icon:"./src/scss/icons/suggestions/ln.png",url:"https://www.lesnumeriques.com/recherche?q="},{label:"!mdn",desc:"Mozilla Developer network",icon:"./src/scss/icons/suggestions/mdn.png",url:"https://developer.mozilla.org/en-US/search?q="},{label:"!mmfr",desc:"Media Markt (BE FR)",icon:"./src/scss/icons/suggestions/mm.png",url:"https://www.mediamarkt.be/fr/search.html?query="},{label:"!mmnl",desc:"Media Markt (BE NL)",icon:"./src/scss/icons/suggestions/mm.png",url:"https://www.mediamarkt.nl/nl/search.html?query="},{label:"!mt",desc:"Marine Traffic",icon:"./src/scss/icons/suggestions/marinetraffic.ico",url:"https://www.marinetraffic.com/en/ais/index/search/all?keyword="},{label:"!pb",desc:"Pages Blanches (BE)",icon:"./src/scss/icons/suggestions/pagesblanches.ico",url:"https://www.pagesblanches.be/chercher/personne/"},{label:"!os",desc:"OpenSubtitles",icon:"./src/scss/icons/suggestions/opensub.ico",url:"https://www.opensubtitles.org/en/search2/sublanguageid-all/moviename-"},{label:"!osm",desc:"OpenStreetMap",icon:"./src/scss/icons/suggestions/osm.png",url:"https://www.openstreetmap.org/search?query="},{label:"!owm",desc:"OpenWeatherMap",icon:"./src/scss/icons/suggestions/owm.ico",url:"https://openweathermap.org/find?q="},{label:"!p",desc:"Play a Youtube audio stream or playlist",icon:"./src/scss/icons/suggestions/play.svg"},{label:"!r",desc:"Reddit",icon:"./src/scss/icons/suggestions/reddit.webp",url:"https://www.reddit.com/search?q="},{label:"!rarbg",desc:"RARBG",icon:"./src/scss/icons/suggestions/rarbg.png",url:"http://rarbgmirror.org/torrents.php?search="},{label:"!rt",desc:"Rottentomatoes",icon:"./src/scss/icons/suggestions/rottentomatoes.png",url:"https://www.rottentomatoes.com/search/?search="},{label:"!rtbf",desc:"RTBF",icon:"./src/scss/icons/suggestions/rtbf.png",url:"https://www.rtbf.be/info/recherche?q="},{label:"!sc",desc:"SoundCloud",icon:"./src/scss/icons/suggestions/soundcloud.ico",url:"https://soundcloud.com/search?q="},{label:"!so",desc:"Stack Overflow",icon:"./src/scss/icons/suggestions/so.ico",url:"https://stackoverflow.com/search?q="},{label:"!torrent",desc:"Oxtorrent.com",icon:"./src/scss/icons/suggestions/torrent.ico",url:"https://www.oxtorrent.com/recherche/"},{label:"!uc",desc:"Unicode table",icon:"./src/scss/icons/suggestions/unicode.ico",url:"https://unicode-table.com/en/search/?q="},{label:"!w",desc:"Wikipedia (EN)",icon:"./src/scss/icons/suggestions/wikipedia.ico",url:"https://en.wikipedia.org/w/index.php?search="},{label:"!wfr",desc:"Wikipedia (FR)",icon:"./src/scss/icons/suggestions/wikipedia.ico",url:"https://fr.wikipedia.org/w/index.php?search="},{label:"!wt",desc:"Wikitionnary (EN)",icon:"./src/scss/icons/suggestions/wt.ico",url:"https://en.wiktionary.org/w/index.php?search="},{label:"!wtfr",desc:"Wikitionnary (FR)",icon:"./src/scss/icons/suggestions/wt.ico",url:"https://fr.wiktionary.org/w/index.php?search="},{label:"!yarn",desc:"Yarn",icon:"./src/scss/icons/suggestions/yarn.ico",url:"https://yarnpkg.com/en/packages?q="},{label:"!yt",desc:"Youtube",icon:"./src/scss/icons/suggestions/yt.ico",url:"https://www.youtube.com/results?search_query="}];const updateWeatherIcon=e=>{if(e.description.match(/clear sky/i))$(".forecast__weatherIcon__icon").text("☼").css({color:"yellow"});else if(e.description.match(/clouds/i))$(".forecast__weatherIcon__icon").text("☁");else if(e.description.match(/rain/i))$(".forecast__weatherIcon__icon").text("🌧");else if(e.description.match(/mist/i)){$(".forecast__weatherIcon__icon").addClass("icon flex");let e=$("<img>").attr({src:"./src/scss/icons/interface/mist.svg",alt:"Mist icon"});$(".forecast__weatherIcon__icon img").length?$(".forecast__weatherIcon__icon img").replaceWith(e):e.appendTo($(".forecast__weatherIcon__icon"))}};