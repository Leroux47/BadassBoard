const socket=io();$.ajax({url:"./settings/settings.json",method:"GET",dataType:"json"}).done(e=>{if(void 0!==e.backgroundImage){const a=()=>{$(".msgContainer").text("Sorry, your background image couldn't be loaded... Maybe try another one"),fade(".msgContainer"),$(".backgroundImage").css("backgroundImage","")};$.ajax({url:e.backgroundImage,method:"GET",dataType:"",statusCode:{200:()=>{$(".backgroundImage").css("backgroundImage",`url(${e.backgroundImage})`)},404:()=>{a()}}}).fail(e=>{"error"===e.statusText&&0===e.readyState&&a()})}void 0!==e.owmToken&&(owmToken=e.owmToken)}),$(".mainContainer__form").submit(e=>{e.preventDefault(),(new Message).send()});const Message=function(){this.author="Max",this.content=$(".mainContainer__form__inputMsg").val(),this.dateTime=new Date,this.send=function(){if(null!==this.content&&""!==this.content){$("<span></span>").addClass("msg flex").text(this.content).appendTo(".msgContainer__list");socket.emit("chat msg",this),$(".mainContainer__form__inputMsg").val("")}}};socket.on("reply",e=>{e.add=function(){setTimeout(()=>{$("<span></span>").addClass("msg reply").text(e.content).appendTo(".msgContainer__list")},1e3)},e.add()});